<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="da">
<head>
<!-- Generated by javadoc (1.8.0_91) on Sat Dec 10 18:52:20 CET 2016 -->
<title>CBSParser</title>
<meta name="date" content="2016-12-10">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CBSParser";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CBSParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../logic/misc/ConfigLoader.html" title="class in logic.misc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?logic/misc/CBSParser.html" target="_top">Frames</a></li>
<li><a href="CBSParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">logic.misc</div>
<h2 title="Class CBSParser" class="title">Class CBSParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>logic.misc.CBSParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CBSParser</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">Created by Kasper on 15/10/2016.
 Class that retrieves and reads data from CBS' Calendar API in JSON format.
 It parses the JSON data into objects inside the system and thereafter parses
 them into the database. CBSParser implements Runnable, as it needs to run on a
 separate thread that continuously once every day updates the objects from CBS' API.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../model/entity/Course.html" title="class in model.entity">Course</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#courseArray">courseArray</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static com.google.gson.Gson</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#gson">gson</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#CBSParser--">CBSParser</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#convertToDateTime-java.util.List-">convertToDateTime</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;dateData)</code>
<div class="block">Converts the dates of Lectures into a single string, as they are parsed as Arrays.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private static <a href="../../model/entity/Course.html" title="class in model.entity">Course</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#getSingleCourse-java.lang.String-java.lang.String-">getSingleCourse</a></span>(java.lang.String&nbsp;column,
               java.lang.String&nbsp;value)</code>
<div class="block">Used by getSingleRecord() to return a Course</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private static <a href="../../model/entity/Lecture.html" title="class in model.entity">Lecture</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#getSingleLecture-java.lang.String-java.lang.String-">getSingleLecture</a></span>(java.lang.String&nbsp;column,
                java.lang.String&nbsp;value)</code>
<div class="block">Used by getSingleRecord() to return a Lecture</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#getSingleRecord-java.lang.String-java.lang.String-int-">getSingleRecord</a></span>(java.lang.String&nbsp;column,
               java.lang.String&nbsp;value,
               int&nbsp;modification)</code>
<div class="block">Used by the parser to get the single record that matches an entity coming from the CBS' API, to be able to update it</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private static <a href="../../model/entity/Study.html" title="class in model.entity">Study</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#getSingleStudy-java.lang.String-java.lang.String-">getSingleStudy</a></span>(java.lang.String&nbsp;column,
              java.lang.String&nbsp;value)</code>
<div class="block">Used by getSingleRecord() to return a Study</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#parseCoursesToArray--">parseCoursesToArray</a></span>()</code>
<div class="block">Fills a courseArray with Course objects created from CBS' API which
 can be found locally</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#parseCoursesToDatabase--">parseCoursesToDatabase</a></span>()</code>
<div class="block">Parses and inserts Courses into the database</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#parseLecturesToDatabase--">parseLecturesToDatabase</a></span>()</code>
<div class="block">Parses and inserts records in the lecture table in the database.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#parseStudiesToDatabase--">parseStudiesToDatabase</a></span>()</code>
<div class="block">Reads the JSON file with study data and creates an array of JSON objects.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#retrieveCurrentEntityRecords-java.lang.String-java.lang.String-">retrieveCurrentEntityRecords</a></span>(java.lang.String&nbsp;table,
                            java.lang.String&nbsp;column)</code>
<div class="block">Method used to retrieve the needed entities from the database in any specific situation in the CBSParser</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../logic/misc/CBSParser.html#run--">run</a></span>()</code>
<div class="block">A thread that is called to parse the data from CBS into the database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="courseArray">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>courseArray</h4>
<pre>private static&nbsp;<a href="../../model/entity/Course.html" title="class in model.entity">Course</a>[] courseArray</pre>
</li>
</ul>
<a name="gson">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>gson</h4>
<pre>private static&nbsp;com.google.gson.Gson gson</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CBSParser--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CBSParser</h4>
<pre>public&nbsp;CBSParser()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">A thread that is called to parse the data from CBS into the database.
 Aggregates all the private methods in this class.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="parseCoursesToArray--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseCoursesToArray</h4>
<pre>private static&nbsp;void&nbsp;parseCoursesToArray()</pre>
<div class="block">Fills a courseArray with Course objects created from CBS' API which
 can be found locally</div>
</li>
</ul>
<a name="parseStudiesToDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseStudiesToDatabase</h4>
<pre>private static&nbsp;void&nbsp;parseStudiesToDatabase()</pre>
<div class="block">Reads the JSON file with study data and creates an array of JSON objects.
 Then it adds entries into the Study table inside the database</div>
</li>
</ul>
<a name="parseCoursesToDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseCoursesToDatabase</h4>
<pre>private static&nbsp;void&nbsp;parseCoursesToDatabase()</pre>
<div class="block">Parses and inserts Courses into the database</div>
</li>
</ul>
<a name="parseLecturesToDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseLecturesToDatabase</h4>
<pre>private static&nbsp;void&nbsp;parseLecturesToDatabase()
                                     throws java.sql.SQLException</pre>
<div class="block">Parses and inserts records in the lecture table in the database.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="convertToDateTime-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertToDateTime</h4>
<pre>private static&nbsp;java.lang.String&nbsp;convertToDateTime(java.util.List&lt;java.lang.String&gt;&nbsp;dateData)</pre>
<div class="block">Converts the dates of Lectures into a single string, as they are parsed as Arrays.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dateData</code> - Array of date-fragments in String-format.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string that matches the DateTime format for SQL Date objects.</dd>
</dl>
</li>
</ul>
<a name="retrieveCurrentEntityRecords-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveCurrentEntityRecords</h4>
<pre>private static&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;retrieveCurrentEntityRecords(java.lang.String&nbsp;table,
                                                                            java.lang.String&nbsp;column)</pre>
<div class="block">Method used to retrieve the needed entities from the database in any specific situation in the CBSParser</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>table</code> - the table to retrieve data from</dd>
<dd><code>column</code> - the column inside the table that is needed to use as a "already registered" checker.
               As the ID of the entities are not coming from the CBS' API, the system is not able to do the check by IDs</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of records of the one column</dd>
</dl>
</li>
</ul>
<a name="getSingleRecord-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSingleRecord</h4>
<pre>private static&nbsp;java.lang.Object&nbsp;getSingleRecord(java.lang.String&nbsp;column,
                                                java.lang.String&nbsp;value,
                                                int&nbsp;modification)</pre>
<div class="block">Used by the parser to get the single record that matches an entity coming from the CBS' API, to be able to update it</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>column</code> - the column inside the table that is needed to use as a "already registered" checker.
               As the ID of the entities are not coming from the CBS' API, the system is not able to do the check by IDs</dd>
<dd><code>value</code> - The specific value from the column that is needed to construct the WHERE param</dd>
<dd><code>modification</code> - specifies what kind of entity is wished to be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the specific entity object that was selected by the modification</dd>
</dl>
</li>
</ul>
<a name="getSingleStudy-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSingleStudy</h4>
<pre>private static&nbsp;<a href="../../model/entity/Study.html" title="class in model.entity">Study</a>&nbsp;getSingleStudy(java.lang.String&nbsp;column,
                                    java.lang.String&nbsp;value)</pre>
<div class="block">Used by getSingleRecord() to return a Study</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the specified Study.</dd>
</dl>
</li>
</ul>
<a name="getSingleCourse-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSingleCourse</h4>
<pre>private static&nbsp;<a href="../../model/entity/Course.html" title="class in model.entity">Course</a>&nbsp;getSingleCourse(java.lang.String&nbsp;column,
                                      java.lang.String&nbsp;value)</pre>
<div class="block">Used by getSingleRecord() to return a Course</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the specified Course.</dd>
</dl>
</li>
</ul>
<a name="getSingleLecture-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getSingleLecture</h4>
<pre>private static&nbsp;<a href="../../model/entity/Lecture.html" title="class in model.entity">Lecture</a>&nbsp;getSingleLecture(java.lang.String&nbsp;column,
                                        java.lang.String&nbsp;value)</pre>
<div class="block">Used by getSingleRecord() to return a Lecture</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the specified Lecture.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CBSParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../logic/misc/ConfigLoader.html" title="class in logic.misc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?logic/misc/CBSParser.html" target="_top">Frames</a></li>
<li><a href="CBSParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
